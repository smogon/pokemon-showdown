export const Scripts: {[k: string]: ModdedBattleScriptsData} = {
	init: function () {
		this.modData('Learnsets', 'dragonite').learnset.playrough = ['7L1'];
		this.modData('Learnsets', 'goodra').learnset.gigadrain = ['7L1'];
		this.modData('Learnsets', 'goodra').learnset.drainpunch = ['7L1'];
		this.modData('Learnsets', 'dragapult').learnset.icebeam = ['8L1'];
		this.modData('Learnsets', 'orbeetle').learnset.focusblast = ['8L1'];
		this.modData('Learnsets', 'orbeetle').learnset.teleport = ['8L1'];
		this.modData('Learnsets', 'thievul').learnset.focusblast = ['8L1'];
		this.modData('Learnsets', 'thievul').learnset.aurasphere = ['8L1'];
		this.modData('Learnsets', 'thievul').learnset.hiddenpower = ['8L1'];
		this.modData('Learnsets', 'gumshoos').learnset.coil = ['7L1'];
		this.modData('Learnsets', 'gumshoos').learnset.bodyslam = ['7L1'];
		this.modData('Learnsets', 'vikavolt').learnset.leafblade = ['7L1'];
		this.modData('Learnsets', 'vikavolt').learnset.darkpulse = ['7L1'];
		this.modData('Learnsets', 'vikavolt').learnset.uturn = ['7L1'];
		this.modData('Learnsets', 'vikavolt').learnset.thundercage = ['7L1'];
		this.modData('Learnsets', 'lycanrocmidnight').learnset.headsmash = ['7L1'];
		this.modData('Learnsets', 'lycanroc').learnset.extremespeed = ['7L1'];
		this.modData('Learnsets', 'lycanroc').learnset.spikes = ['7L1'];
		this.modData('Learnsets', 'raichu').learnset.highjumpkick = ['7L1'];
		this.modData('Learnsets', 'clefable').learnset.hex = ['7L1'];
		this.modData('Learnsets', 'clefable').learnset.nastyplot = ['7L1'];
		this.modData('Learnsets', 'clefable').learnset.shadowsneak = ['7L1'];
		this.modData('Learnsets', 'clefable').learnset.willowisp = ['7L1'];
		this.modData('Learnsets', 'rillaboom').learnset.junglehealing = ['8L1'];
		this.modData('Learnsets', 'rillaboom').learnset.toxic = ['8L1'];
		this.modData('Learnsets', 'cinderace').learnset.energyball = ['8L1'];
		this.modData('Learnsets', 'inteleon').learnset.taunt = ['8L1'];
		this.modData('Learnsets', 'inteleon').learnset.firstimpression = ['8L1'];
		this.modData('Learnsets', 'inteleon').learnset.encore = ['8L1'];
		this.modData('Learnsets', 'inteleon').learnset.pursuit = ['8L1'];
		this.modData('Learnsets', 'klinklang').learnset.rapidspin = ['7L1'];
		this.modData('Learnsets', 'garbodor').learnset.stealthrock = ['7L1'];
		this.modData('Learnsets', 'garbodor').learnset.knockoff = ['7L1'];
		this.modData('Learnsets', 'jolteon').learnset.calmmind = ['7L1'];
		this.modData('Learnsets', 'flareon').learnset.burnup = ['7L1'];
		this.modData('Learnsets', 'flareon').learnset.morningsun = ['7L1'];
		this.modData('Learnsets', 'butterfree').learnset.taunt = ['7L1'];
		this.modData('Learnsets', 'butterfree').learnset.earthpower = ['7L1'];
		this.modData('Learnsets', 'chandelure').learnset.mindblown = ['7L1'];
		this.modData('Learnsets', 'gothitelle').learnset.wish = ['7L1'];
		this.modData('Learnsets', 'gothitelle').learnset.teleport = ['7L1'];
		this.modData('Learnsets', 'gothitelle').learnset.doomdesire = ['7L1'];
		this.modData('Learnsets', 'gothitelle').learnset.flashcannon = ['7L1'];
		this.modData('Learnsets', 'conkeldurr').learnset.shoreup = ['7L1'];
		this.modData('Learnsets', 'gigalith').learnset.skullbash = ['7L1'];
		this.modData('Learnsets', 'gigalith').learnset.sunnyday = ['7L1'];
		this.modData('Learnsets', 'gigalith').learnset.synthesis = ['7L1'];
		this.modData('Learnsets', 'reuniclus').learnset.photongeyser = ['7L1'];
		this.modData('Learnsets', 'reuniclus').learnset.psychoboost = ['7L1'];
		this.modData('Learnsets', 'boltund').learnset.pursuit = ['8L1'];
		this.modData('Learnsets', 'archeops').learnset.fireblast = ['7L1'];
		this.modData('Learnsets', 'archeops').learnset.dualwingbeat = ['7L1'];
		this.modData('Learnsets', 'archeops').learnset.bravebird = ['7L1'];
		this.modData('Learnsets', 'talonflame').learnset.scorchingsands = ['7L1'];
		this.modData('Learnsets', 'staraptor').learnset.roleplay = ['7L1'];
		this.modData('Learnsets', 'staraptor').learnset.superfang = ['7L1'];
		this.modData('Learnsets', 'bibarel').learnset.fly = ['7L1'];
		this.modData('Learnsets', 'kricketune').learnset.drainpunch = ['7L1'];
		this.modData('Learnsets', 'kricketune').learnset.dualwingbeat = ['7L1'];
		this.modData('Learnsets', 'kricketune').learnset.firstimpression = ['7L1'];
		this.modData('Learnsets', 'kricketune').learnset.powertrip = ['7L1'];
		this.modData('Learnsets', 'kricketune').learnset.tripleaxel = ['7L1'];
		this.modData('Learnsets', 'kricketune').learnset.uturn = ['7L1'];
		this.modData('Learnsets', 'mismagius').learnset.sludgebomb = ['7L1'];
		this.modData('Learnsets', 'mismagius').learnset.sludgewave = ['7L1'];
		this.modData('Learnsets', 'mismagius').learnset.toxicspikes = ['7L1'];
		this.modData('Learnsets', 'mismagius').learnset.poisonfang = ['7L1'];
		this.modData('Learnsets', 'mismagius').learnset.partingshot = ['7L1'];
		this.modData('Learnsets', 'mismagius').learnset.fling = ['7L1'];
		this.modData('Learnsets', 'murkrow').learnset.partingshot = ['7L1'];
		this.modData('Learnsets', 'honchkrow').learnset.partingshot = ['7L1'];
		this.modData('Learnsets', 'honchkrow').learnset.dualwingbeat = ['7L1'];
		this.modData('Learnsets', 'spiritomb').learnset.partingshot = ['7L1'];
		this.modData('Learnsets', 'ariados').learnset.spikes = ['7L1'];
		this.modData('Learnsets', 'gourgeist').learnset.bodypress = ['7L1'];
		this.modData('Learnsets', 'gourgeist').learnset.encore = ['7L1'];
		this.modData('Learnsets', 'gourgeist').learnset.flareblitz = ['7L1'];
		this.modData('Learnsets', 'gourgeist').learnset.partingshot = ['7L1'];
		this.modData('Learnsets', 'gourgeist').learnset.strengthsap = ['7L1'];
		this.modData('Learnsets', 'mimikyu').learnset.firstimpression = ['7L1'];
		this.modData('Learnsets', 'mimikyu').learnset.strengthsap = ['7L1'];
		this.modData('Learnsets', 'mimikyu').learnset.uturn = ['7L1'];
		this.modData('Learnsets', 'nidoqueen').learnset.milkdrink = ['7L1'];
		this.modData('Learnsets', 'walrein').learnset.darkpulse = ['7L1'];
		this.modData('Learnsets', 'walrein').learnset.flipturn = ['7L1'];
		this.modData('Learnsets', 'walrein').learnset.focusblast = ['7L1'];
		this.modData('Learnsets', 'walrein').learnset.freezedry = ['7L1'];
		this.modData('Learnsets', 'walrein').learnset.slackoff = ['7L1'];
		this.modData('Learnsets', 'aurorus').learnset.rapidspin = ['7L1'];
		this.modData('Learnsets', 'aurorus').learnset.voltswitch = ['7L1'];
		this.modData('Learnsets', 'trevenant').learnset.floralhealing = ['7L1'];
		this.modData('Learnsets', 'trevenant').learnset.synthesis = ['7L1'];
		this.modData('Learnsets', 'eelektross').learnset.recover = ['7L1'];
		this.modData('Learnsets', 'eelektross').learnset.scald = ['7L1'];
		this.modData('Learnsets', 'trevenant').learnset.floralhealing = ['7L1'];
		this.modData('Learnsets', 'trevenant').learnset.synthesis = ['7L1'];
		this.modData('Learnsets', 'dragalge').learnset.acidspray = ['7L1'];
		this.modData('Learnsets', 'dragalge').learnset.gastroacid = ['7L1'];
		this.modData('Learnsets', 'dragalge').learnset.roost = ['7L1'];
		this.modData('Learnsets', 'dragalge').learnset.terrainpulse = ['7L1'];
		this.modData('Learnsets', 'dhelmise').learnset.flipturn = ['7L1'];
		this.modData('Learnsets', 'dhelmise').learnset.superpower = ['7L1'];
		this.modData('Learnsets', 'meganium').learnset.calmmind = ['7L1'];
		this.modData('Learnsets', 'meganium').learnset.dragondance = ['7L1'];
		this.modData('Learnsets', 'meganium').learnset.solarblade = ['7L1'];
		this.modData('Learnsets', 'meganium').learnset.weatherball = ['7L1'];
		this.modData('Learnsets', 'typhlosion').learnset.explosion = ['7L1'];
		this.modData('Learnsets', 'typhlosion').learnset.headcharge = ['7L1'];
		this.modData('Learnsets', 'typhlosion').learnset.honeclaws = ['7L1'];
		this.modData('Learnsets', 'typhlosion').learnset.morningsun = ['7L1'];
		this.modData('Learnsets', 'typhlosion').learnset.rapidspin = ['7L1'];
		this.modData('Learnsets', 'feraligatr').learnset.darkpulse = ['7L1'];
		this.modData('Learnsets', 'feraligatr').learnset.firefang = ['7L1'];
		this.modData('Learnsets', 'feraligatr').learnset.suckerpunch = ['7L1'];
		this.modData('Learnsets', 'feraligatr').learnset.thunderfang = ['7L1'];
		this.modData('Learnsets', 'regice').learnset.teleport = ['7L1'];
		this.modData('Learnsets', 'regice').learnset.freezedry = ['7L1'];
		this.modData('Learnsets', 'magcargo').learnset.firelash = ['7L1'];
		this.modData('Learnsets', 'magcargo').learnset.energyball = ['7L1'];
		this.modData('Learnsets', 'bastiodon').learnset.earthpower = ['7L1'];
		this.modData('Learnsets', 'leavanny').learnset.appleacid = ['7L1'];
		this.modData('Learnsets', 'leavanny').learnset.lunge = ['7L1'];
		this.modData('Learnsets', 'leavanny').learnset.quiverdance = ['7L1'];
		this.modData('Learnsets', 'parasect').learnset.junglehealing = ['7L1'];
		this.modData('Learnsets', 'parasect').learnset.taunt = ['7L1'];
		this.modData('Learnsets', 'samurott').learnset.flipturn = ['7L1'];
		this.modData('Learnsets', 'samurott').learnset.psychocut = ['7L1'];
		this.modData('Learnsets', 'samurott').learnset.slackoff = ['7L1'];
		this.modData('Learnsets', 'meowstic').learnset.brickbreak = ['7L1'];
		this.modData('Learnsets', 'meowstic').learnset.foulplay = ['7L1'];
		this.modData('Learnsets', 'meowstic').learnset.knockoff = ['7L1'];
		this.modData('Learnsets', 'meowstic').learnset.partingshot = ['7L1'];
		this.modData('Learnsets', 'meowstic').learnset.pursuit = ['7L1'];
		this.modData('Learnsets', 'meowsticf').learnset.dazzlinggleam = ['7L1'];
		this.modData('Learnsets', 'meowsticf').learnset.drainingkiss = ['7L1'];
		this.modData('Learnsets', 'meowsticf').learnset.moonblast = ['7L1'];
		this.modData('Learnsets', 'meowsticf').learnset.mysticalfire = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.calmmind = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.doomdesire = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.futuresight = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.followme = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.lusterpurge = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.moonblast = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.moonlight = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.photongeyser = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.prismaticlaser = ['7L1'];
		this.modData('Learnsets', 'starmie').learnset.storedpower = ['7L1'];
		this.modData('Learnsets', 'delibird').learnset.celebrate = ['7L1'];
		this.modData('Learnsets', 'delibird').learnset.healingwish = ['7L1'];
		this.modData('Learnsets', 'delibird').learnset.roost = ['7L1'];
		this.modData('Learnsets', 'delibird').learnset.swordsdance = ['7L1'];
		this.modData('Learnsets', 'delibird').learnset.uturn = ['7L1'];
		this.modData('Learnsets', 'delibird').learnset.wish = ['7L1'];
		this.modData('Learnsets', 'sawsbuck').learnset.moonblast = ['7L1'];
		this.modData('Learnsets', 'sawsbuck').learnset.petalblizzard = ['7L1'];
		this.modData('Learnsets', 'sawsbuck').learnset.playrough = ['7L1'];
		this.modData('Learnsets', 'sawsbucksummer').learnset.flameburst = ['7L1'];
		this.modData('Learnsets', 'sawsbucksummer').learnset.flamethrower = ['7L1'];
		this.modData('Learnsets', 'sawsbucksummer').learnset.growth = ['7L1'];
		this.modData('Learnsets', 'sawsbucksummer').learnset.leafstorm = ['7L1'];
		this.modData('Learnsets', 'sawsbucksummer').learnset.overheat = ['7L1'];
		this.modData('Learnsets', 'sawsbuckautumn').learnset.petalblizzard = ['7L1'];
		this.modData('Learnsets', 'sawsbuckautumn').learnset.poltergeist = ['7L1'];
		this.modData('Learnsets', 'sawsbuckautumn').learnset.shadowsneak = ['7L1'];
		this.modData('Learnsets', 'sawsbuckautumn').learnset.strengthsap = ['7L1'];
		this.modData('Learnsets', 'sawsbuckautumn').learnset.trickortreat = ['7L1'];
		this.modData('Learnsets', 'sawsbuckwinter').learnset.blizzard = ['7L1'];
		this.modData('Learnsets', 'sawsbuckwinter').learnset.freezedry = ['7L1'];
		this.modData('Learnsets', 'sawsbuckwinter').learnset.icebeam = ['7L1'];
		this.modData('Learnsets', 'sawsbuckwinter').learnset.iceshard = ['7L1'];
		this.modData('Learnsets', 'sawsbuckwinter').learnset.iciclecrash = ['7L1'];
		this.modData('Learnsets', 'flygon').learnset.extremespeed = ['7L1'];
		this.modData('Learnsets', 'flygon').learnset.flashcannon = ['7L1'];
		this.modData('Learnsets', 'flygon').learnset.ironhead = ['7L1'];
		this.modData('Learnsets', 'drapion').learnset.shoreup = ['7L1'];
		this.modData('Learnsets', 'lurantis').learnset.moonblast = ['7L1'];
		this.modData('Learnsets', 'lurantis').learnset.moonlight = ['7L1'];
		this.modData('Learnsets', 'lurantis').learnset.playrough = ['7L1'];
		this.modData('Learnsets', 'lurantis').learnset.silverwind = ['7L1'];
	},
	canMegaEvo(pokemon) {
		const altForme = pokemon.baseSpecies.otherFormes && this.dex.getSpecies(pokemon.baseSpecies.otherFormes[0]);
		const item = pokemon.getItem();
		if (
			altForme?.isMega && altForme?.requiredMove &&
			pokemon.baseMoves.includes(this.toID(altForme.requiredMove)) && !item.zMove
		) {
			return altForme.name;
		}
		if (item.name === "Lycanite" && pokemon.baseSpecies.name === "Lycanroc-Midnight") {
			return "Lycanroc-Midnight-Mega";
		}
		if (item.name === "Lycanite" && pokemon.baseSpecies.name === "Lycanroc-Dusk") {
			return "Lycanroc-Dusk-Mega";
		}
		if (item.name === "Raichunite" && pokemon.baseSpecies.name === "Raichu-Alola") {
			return null;
		}
		if (item.name === "Slowbronite" && pokemon.baseSpecies.name === "Slowbro-Galar") {
			return null;
		}
		if (item.name === "Slowkinite" && pokemon.baseSpecies.name === "Slowking-Galar") {
			return null;
		}
		if (item.name === "Gourgeite" && pokemon.baseSpecies.name === "Gourgeist-Small") {
			return "Gourgeist-Small-Mega";
		}
		if (item.name === "Gourgeite" && pokemon.baseSpecies.name === "Gourgeist-Large") {
			return "Gourgeist-Large-Mega";
		}
		if (item.name === "Gourgeite" && pokemon.baseSpecies.name === "Gourgeist-Super") {
			return "Gourgeist-Super-Mega";
		}
		if (item.name === "Reginite" && pokemon.baseSpecies.name === "Regice") {
			return "Regice-Mega";
		}
		if (item.name === "Reginite" && pokemon.baseSpecies.name === "Registeel") {
			return "Registeel-Mega";
		}
		if (item.name === "Meowsticite" && pokemon.baseSpecies.name === "Meowstic-F") {
			return "Meowstic-F-Mega";
		}
		if (item.name === "Sawsbuckite" && pokemon.baseSpecies.name === "Delibird") {
			return "Delibird-Mega-Festive-Rider";
		}
		if (item.name === "Sawsbuckite" && pokemon.baseSpecies.name === "Sawsbuck-Summer") {
			return "Sawsbuck-Summer-Mega";
		}
		if (item.name === "Sawsbuckite" && pokemon.baseSpecies.name === "Sawsbuck-Autumn") {
			return "Sawsbuck-Autumn-Mega";
		}
		if (item.name === "Sawsbuckite" && pokemon.baseSpecies.name === "Sawsbuck-Winter") {
			return "Sawsbuck-Winter-Mega";
		}
		if (item.megaEvolves !== pokemon.baseSpecies.name || item.megaStone === pokemon.species.name) {
			return null;
		}
		return item.megaStone;
	},
	pokemon: {

		setItem(item: string | Item, source?: Pokemon, effect?: Effect) {
			if (!this.hp) return false;
			if (typeof item === 'string') item = this.battle.dex.getItem(item);

			const effectid = this.battle.effect ? this.battle.effect.id : '';
			export const RESTORATIVE_BERRIES = new Set([
				'leppaberry', 'aguavberry', 'enigmaberry', 'figyberry', 'iapapaberry', 'magoberry', 'sitrusberry', 'wikiberry', 'oranberry',
			] as ID[]);
			if (RESTORATIVE_BERRIES.has('leppaberry' as ID)) {
				const inflicted = ['trick', 'switcheroo'].includes(effectid);
				const external = inflicted && source && source.side.id !== this.side.id;
				this.pendingStaleness = external ? 'external' : 'internal';
			} else {
				this.pendingStaleness = undefined;
			}
			this.item = item.id;
			this.itemData = {id: item.id, target: this};
			if (item.id) {
				this.battle.singleEvent('Start', item, this.itemData, this, source, effect);
			}
			return true;
		}
	}
};
